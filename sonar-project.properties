# SonarQube — AI Client monorepo configuration
#
# Run from the project root:
#   sonar-scanner -Dsonar.token=YOUR_TOKEN
#

# ── connection ───────────────────────────────────────────────
sonar.host.url=http://172.24.1.159:9000/sonar

# ── project identity ─────────────────────────────────────────
sonar.projectKey=ai-client
sonar.projectName=AI Client
sonar.projectVersion=1.0.0

# ── multi-module layout ─────────────────────────────────────
sonar.modules=admin-backend,admin-dashboard,client-frontend

# ── global exclusions ────────────────────────────────────────
sonar.exclusions=\
  **/node_modules/**,\
  **/build/**,\
  **/coverage/**,\
  **/public/**,\
  **/*.test.ts,\
  **/*.test.tsx,\
  **/setupTests.ts,\
  **/reportWebVitals.ts,\
  **/react-app-env.d.ts

sonar.test.inclusions=\
  **/*.test.ts,\
  **/*.test.tsx

sonar.sourceEncoding=UTF-8

# ── admin-backend (Express / JavaScript) ─────────────────────
admin-backend.sonar.projectName=AI-Tool Admin Backend
admin-backend.sonar.sources=src
admin-backend.sonar.tests=
admin-backend.sonar.language=js

# ── admin-dashboard (React / TypeScript) ─────────────────────
admin-dashboard.sonar.projectName=AI-Tool Admin Dashboard
admin-dashboard.sonar.sources=src
admin-dashboard.sonar.tests=src
admin-dashboard.sonar.test.inclusions=**/*.test.ts,**/*.test.tsx
admin-dashboard.sonar.typescript.tsconfigPaths=tsconfig.json
admin-dashboard.sonar.javascript.lcov.reportPaths=coverage/lcov.info

# ── client-frontend (React / TypeScript) ─────────────────────
client-frontend.sonar.projectName=AI-Tool Client Frontend
client-frontend.sonar.sources=src
client-frontend.sonar.tests=src
client-frontend.sonar.test.inclusions=**/*.test.ts,**/*.test.tsx
client-frontend.sonar.typescript.tsconfigPaths=tsconfig.json
client-frontend.sonar.javascript.lcov.reportPaths=coverage/lcov.info


# Exclude a specific file
sonar.exclusions=admin-backend/src/scripts/*